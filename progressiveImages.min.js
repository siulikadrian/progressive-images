!function(e,t){"function"==typeof define&&define.amd?define(["jquery","lodash"],t):e.mylib=t(e.$,e._)}(this,function(e){var t,i,n;return function(e){function o(e,t){return b.call(e,t)}function r(e,t){var i,n,o,r,s,a,u,c,f,p,l,g,h=t&&t.split("/"),m=k.map,d=m&&m["*"]||{};if(e){for(e=e.split("/"),s=e.length-1,k.nodeIdCompat&&E.test(e[s])&&(e[s]=e[s].replace(E,"")),"."===e[0].charAt(0)&&h&&(g=h.slice(0,h.length-1),e=g.concat(e)),f=0;f<e.length;f++)if(l=e[f],"."===l)e.splice(f,1),f-=1;else if(".."===l){if(0===f||1===f&&".."===e[2]||".."===e[f-1])continue;f>0&&(e.splice(f-1,2),f-=2)}e=e.join("/")}if((h||d)&&m){for(i=e.split("/"),f=i.length;f>0;f-=1){if(n=i.slice(0,f).join("/"),h)for(p=h.length;p>0;p-=1)if(o=m[h.slice(0,p).join("/")],o&&(o=o[n])){r=o,a=f;break}if(r)break;!u&&d&&d[n]&&(u=d[n],c=f)}!r&&u&&(r=u,a=c),r&&(i.splice(0,a,r),e=i.join("/"))}return e}function s(t,i){return function(){var n=v.call(arguments,0);return"string"!=typeof n[0]&&1===n.length&&n.push(null),h.apply(e,n.concat([t,i]))}}function a(e){return function(t){return r(t,e)}}function u(e){return function(t){y[e]=t}}function c(t){if(o(T,t)){var i=T[t];delete T[t],w[t]=!0,g.apply(e,i)}if(!o(y,t)&&!o(w,t))throw new Error("No "+t);return y[t]}function f(e){var t,i=e?e.indexOf("!"):-1;return i>-1&&(t=e.substring(0,i),e=e.substring(i+1,e.length)),[t,e]}function p(e){return e?f(e):[]}function l(e){return function(){return k&&k.config&&k.config[e]||{}}}var g,h,m,d,y={},T={},k={},w={},b=Object.prototype.hasOwnProperty,v=[].slice,E=/\.js$/;m=function(e,t){var i,n=f(e),o=n[0],s=t[1];return e=n[1],o&&(o=r(o,s),i=c(o)),o?e=i&&i.normalize?i.normalize(e,a(s)):r(e,s):(e=r(e,s),n=f(e),o=n[0],e=n[1],o&&(i=c(o))),{f:o?o+"!"+e:e,n:e,pr:o,p:i}},d={require:function(e){return s(e)},exports:function(e){var t=y[e];return"undefined"!=typeof t?t:y[e]={}},module:function(e){return{id:e,uri:"",exports:y[e],config:l(e)}}},g=function(t,i,n,r){var a,f,l,g,h,k,b,v=[],E=typeof n;if(r=r||t,k=p(r),"undefined"===E||"function"===E){for(i=!i.length&&n.length?["require","exports","module"]:i,h=0;h<i.length;h+=1)if(g=m(i[h],k),f=g.f,"require"===f)v[h]=d.require(t);else if("exports"===f)v[h]=d.exports(t),b=!0;else if("module"===f)a=v[h]=d.module(t);else if(o(y,f)||o(T,f)||o(w,f))v[h]=c(f);else{if(!g.p)throw new Error(t+" missing "+f);g.p.load(g.n,s(r,!0),u(f),{}),v[h]=y[f]}l=n?n.apply(y[t],v):void 0,t&&(a&&a.exports!==e&&a.exports!==y[t]?y[t]=a.exports:l===e&&b||(y[t]=l))}else t&&(y[t]=n)},t=i=h=function(t,i,n,o,r){if("string"==typeof t)return d[t]?d[t](i):c(m(t,p(i)).f);if(!t.splice){if(k=t,k.deps&&h(k.deps,k.callback),!i)return;i.splice?(t=i,i=n,n=null):t=e}return i=i||function(){},"function"==typeof n&&(n=o,o=r),o?g(e,t,i,n):setTimeout(function(){g(e,t,i,n)},4),h},h.config=function(e){return h(e)},t._defined=y,n=function(e,t,i){if("string"!=typeof e)throw new Error("See almond README: incorrect module build, no module name");t.splice||(i=t,t=[]),o(y,e)||o(T,e)||(T[e]=[e,t,i])},n.amd={jQuery:!0}}(),n("node_modules/almond/almond",function(){}),n("src/config",[],function(){var e={};return e.IMAGE_STRATEGY="image",e.LINK_STRATEGY="href",e.POSTER_STRATEGY="poster",e.BACKGROUND_STRATEGY="background",e.avalaibleStrategy=[e.IMAGE_STRATEGY,e.BACKGROUND_STRATEGY,e.POSTER_STRATEGY,e.LINK_STRATEGY],e.attrNameSlug="progressive-image-src",e.positionAttrSlug="focus-image-config",e.progressiveImageVisibleClass="progressive__image--visible",e.isLazyLoadStrategy=!1,e.breakpoints=["none","w360","w480","w768","w768@2x","w1280","w1280@2x","w1920","w2560","w3840"],e}),n("src/utils/inViewport",[],function(){return function(t,i){var n=e(window).scrollTop(),o=n+e(window).height(),r=e(t).offset().top,s=r+parseInt(e(t).css("height"));return i===!0?n<r&&o>s:r<=o&&s>=n}}),n("src/utils/setBgImage",[],function(){return function(e,t){if(e)return e.style.backgroundImage='url("'+t+'")',e}}),n("src/utils/getBreakpoint",[],function(){return function(){return window.getComputedStyle(document.body,":after").getPropertyValue("content").replace(/\"|\'/g,"")}}),n("src/utils/utils",["./inViewport","./setBgImage","./getBreakpoint"],function(e,t,i){return{isElementInView:e,setBgImage:t,getBreakpoint:i}}),n("src/image",["jquery","lodash","./config","./utils/utils"],function(e,t,i,n){function o(e,i){this.element=e,this.options=t.assign(this.options,i||{})}function r(e,t,n){n||(n={}),n.x=n.x||.5,n.y=n.y||.5,t===i.BACKGROUND_STRATEGY&&(e.style.backgroundPosition=c(n.x)+" "+c(n.y))}function s(e){var t;switch(e){case"IMG":t=i.IMAGE_STRATEGY;break;case"VIDEO":t=i.POSTER_STRATEGY;break;case"A":t=i.LINK_STRATEGY;break;default:t=i.BACKGROUND_STRATEGY}return t}function a(e,t){var o=s(t.tagName);return o===i.IMAGE_STRATEGY&&(t.src=e),o===i.LINK_STRATEGY&&(t.href=e),o===i.POSTER_STRATEGY&&n.setBgImage(t,e),o===i.BACKGROUND_STRATEGY&&n.setBgImage(t,e),t}function u(e,t){if(t===i.IMAGE_STRATEGY)return e.src;if(t===i.BACKGROUND_STRATEGY){var n=e.style.backgroundImage;return n.slice(4,-1).replace(/["|']/g,"")}throw new Error("Get url invalid strategy detected: ",t)}function c(e){return 100*e+"%"}function f(){return n.getBreakpoint()}return o.prototype.options={requestOnVisible:!0,breakpoints:i.breakpoints,isElementInView:function(e){return n.isElementInView(e)}},o.prototype.createBreakpointConfig=function(e,i){var n=i.split(",");return t.each(n,function(t){var i=t.split(" ");"none"===n[0]&&(isLazyLoadStrategy=!0),e[i[0]]=i[1]}),e},o.prototype.init=function(){this.$element=e(this.element),this.breakpointsConfigObj={};var t=this;this.breakpointsConfigObj.none=u(this.element,this.options.strategy),this.createBreakpointConfig(this.breakpointsConfigObj,this.element.getAttribute(i.attrNameSlug)),this.setPositionConfig(),this.options.requestOnVisible||this.checkBreakpoint(),this.$element=e(this.element),e(window).on("resize orientationchange",function(){t.checkBreakpoint()}),this.checkViewportTh=function(){if(!t.visible){var e=t.options.isElementInView(t.$element);e&&(t.visible=!0,t.checkBreakpoint())}},this.checkViewportTh(),e(window).on("scroll load",this.checkViewportTh),e(window).on("resize",this.checkViewportTh)},o.prototype.setPositionConfig=function(){var e=this,t=this.element.getAttribute(i.positionAttrSlug);t&&(this.positionConfig={},t.split(",").map(function(t){var i=t.split(" ");e.positionConfig[i[0]]={x:i[1].split("/")[0],y:i[1].split("/")[1]}}))},o.prototype.getAvailableBreakpoint=function(e,t,i){var n,o=i;if(t[e])n=e;else for(var r=o.indexOf(e);r>=0;r--)if("undefined"!=typeof t[o[r]]){n=o[r];break}return n},o.prototype.getImage=function(e){var t=this,i=this.getAvailableBreakpoint(e,this.breakpointsConfigObj,this.options.breakpoints),n=new Image;if(t.positionConfig){var o=this.positionConfig[i]||this.positionConfig.none;r(this.element,this.options.strategy,o)}this.options.forceUpdate&&a(this.breakpointsConfigObj[i],t.element,t.options.strategy),n.src=this.breakpointsConfigObj[i],n.onload=function(){a(n.src,t.element,t.options.strategy)}},o.prototype.checkBreakpoint=function(){this.options.requestOnVisible&&!this.visible||this.currentBreakPoint!==f()&&(this.currentBreakPoint=f(),this.getImage(this.currentBreakPoint))},o.prototype.delete=function(){this.checkViewportTh&&(e(window).off("scroll",this.checkViewportTh),e(window).off("resize",this.checkViewportTh))},o}),n("src/images",["jquery","lodash","./config","./image","./utils/utils"],function(e,t,i,n,o){function r(e){this.globalOptions=e}return r.prototype.init=function(){var e=this.getProgressiveItems(document);this.destroyItems(),this.progressiveImages=[],this.addItems(e)},r.prototype.destroyItems=function(){this.progressiveImages&&this.progressiveImages.length&&this.progressiveImages.forEach(function(e){e.delete()})},r.prototype.getProgressiveItems=function(e){return e.querySelectorAll("["+i.attrNameSlug+"]")},r.prototype.addItems=function(i){var o=this;return[].forEach.call(i,function(i){var r=e(i).attr("progressive-image-src-config"),s=r?JSON.parse(r.replace(/'/g,'"')):{},a=new n(i,t.assign(o.globalOptions,s,{strategy:o.getStrategyByTag(i)}));a.init(o.layout),o.progressiveImages.push(a)}),this},r.prototype.getStrategyByTag=function(e){return"image"===e.tagName.toLowerCase()?i.IMAGE_STRATEGY:i.BACKGROUND_STRATEGY},r.prototype.checkBreak=function(){[].forEach.call(this.progressiveImages,function(e){e.checkBreakpoint()})},r}),n("jquery",function(){return e}),n("lodash",function(){return _}),i("src/images")});